{% extends 'mood/base.html'%}
{% load crispy_forms_tags %}









    {% block headline %}

<h4> history of {{request.user}}'s mood</h4><br>

    {% endblock %}

    {% block body %}
    {% if no_data %}
        <div class="alert alert-warning" role="alert">
          No data available, please try different date!
        </div>
    {% endif %}
    <div class="container">
      <div class="row justify-content-md-center">
        <div class="col-8">
            <form action="" method="POST">
                {% csrf_token %}
                {{search_form | crispy}}
                <button type="submit" class="btn btn-primary mt-3">Search</button>
            </form>
        </div>
      </div>
    </div>


<br><br><br>

<!--
<ul class="no-bullets">
    {% for message in message_history %}
    <li> {{message.message}} </li>
    <li> {{message.data_created}} </li>
    {% empty %}
    <li> no mood history ! </li>
    {% endfor %}
</ul>
-->



<!-- access using class attribute
<h1> {{our_class.message}} </h1>
<div style="background-color:yellow;">
       {{bla|safe}}
</div>
-->
    {% if line_plot %}
    <img src="data:image/png;base64, {{line_plot|safe}}">

    {% endif %}

    <br>
    {% if count_plot %}
    <img src="data:image/png;base64, {{count_plot|safe}}">

    {% endif %}

    <br>
    {% if bar_plot %}
    <img src="data:image/png;base64, {{bar_plot|safe}}">

    {% endif %}

    {% block table %}

    {% if table %}
    <table class="table table-striped">

        {{table|safe}}

    </table>
    {% endif %}
    {% endblock %}




<script>




/*
document.addEventListener('DOMContentLoaded', function() {
            // onsubmit event
            document.querySelector('form').onsubmit = () =>  {
                // value getting text out of it
                    document.querySelector('#warning')
                    $('#warning').show();
                // return folse means that we run the request only locally we're not sending it to a server
                return false;
            }

	});
*/
</script>




{% endblock %}